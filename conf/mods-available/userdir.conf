<IfDefine USERDIR>
    <IfModule !mod_userdir.c>
    LoadModule userdir_module ${APACHE_Modules}/mod_userdir.so
    </IfModule>

    UserDir public_html
    UserDir disabled root

    <Directory /home/*/public_html>
        AllowOverride FileInfo AuthConfig Limit Indexes
        Options MultiViews Indexes SymLinksIfOwnerMatch IncludesNoExec
        <Limit GET POST OPTIONS>
            Order allow,deny
            Allow from all
        </Limit>
        <LimitExcept GET POST OPTIONS>
            Order deny,allow
            Deny from all
        </LimitExcept>

        AuthType basic
        AuthName "User directories (private)"
        # See ldap.conf & AuthnProviderAlias :
        AuthBasicProvider ldap1
        Require valid-user
    </Directory>

    # F.2013-02-09 : Gentoo said :
    # Suexec isn't really required to run cgi-scripts, but it's a really good
    # idea if you have multiple users serving websites...
    <IfModule mod_suexec.c>
    <Directory /home/*/public_html/cgi-bin>
        Options ExecCGI
        SetHandler cgi-script
    </Directory>
    </IfModule>

</IfDefine>
# vim: ts=4 filetype=apache
